<mat-card class="order-form-container">
  <mat-card-header>
    <mat-card-title>Place Order</mat-card-title>
  </mat-card-header>
  
  <mat-card-content>
    <form [formGroup]="orderForm" (ngSubmit)="onSubmit()" class="order-form">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Symbol</mat-label>
        <input
          matInput
          formControlName="symbol"
          readonly
        />
        <mat-error *ngIf="submitted && f['symbol'].errors?.['required']">
          Symbol is required
        </mat-error>
      </mat-form-field>
      
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Order Type</mat-label>
        <mat-select formControlName="side">
          <mat-option [value]="OrderSide.BUY">Buy</mat-option>
          <mat-option [value]="OrderSide.SELL">Sell</mat-option>
        </mat-select>
        <mat-error *ngIf="submitted && f['side'].errors?.['required']">
          Order type is required
        </mat-error>
      </mat-form-field>
      
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Price (USDT)</mat-label>
        <input
          matInput
          type="number"
          formControlName="price"
          step="0.01"
          min="0.01"
        />
        <mat-error *ngIf="submitted && f['price'].errors?.['required']">
          Price is required
        </mat-error>
        <mat-error *ngIf="submitted && f['price'].errors?.['min']">
          Price must be at least 0.01
        </mat-error>
      </mat-form-field>
      
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Quantity (BTC)</mat-label>
        <input
          matInput
          type="number"
          formControlName="quantity"
          step="0.00000001"
          min="0.00000001"
        />
        <mat-error *ngIf="submitted && f['quantity'].errors?.['required']">
          Quantity is required
        </mat-error>
        <mat-error *ngIf="submitted && f['quantity'].errors?.['min']">
          Quantity must be at least 0.00000001
        </mat-error>
      </mat-form-field>
      
      <div class="total-section" *ngIf="f['price'].value && f['quantity'].value">
        <mat-divider></mat-divider>
        <div class="total-value-container">
          <span class="total-label">Total Order Value:</span>
          <span class="total-value">{{ f['price'].value * f['quantity'].value | number:'1.2-2' }} USDT</span>
        </div>
        <mat-divider></mat-divider>
      </div>
      
      <div class="button-container">
        <button
          mat-raised-button
          type="submit"
          [disabled]="loading"
          [color]="f['side'].value === OrderSide.BUY ? 'primary' : 'warn'"
        >
          <mat-spinner *ngIf="loading" diameter="20" class="spinner"></mat-spinner>
          {{ f['side'].value === OrderSide.BUY ? 'Buy' : 'Sell' }} BTC
        </button>
      </div>
      
      <div *ngIf="error" class="error-message">{{error}}</div>
      <div *ngIf="success" class="success-message">{{success}}</div>
    </form>
  </mat-card-content>
</mat-card>